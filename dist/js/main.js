(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let l=performance.now();requestAnimationFrame((function n(r){let s=(r-l)/o;s>1&&(s=1);let a=e(s);t(a),s<1&&requestAnimationFrame(n)}))};(()=>{const e=document.querySelector(".header-contacts__arrow"),t=document.querySelector(".header-contacts__phone-number-accord"),o=t.querySelector(".header-contacts__phone-number");e.addEventListener("click",(l=>{l.preventDefault(),l.target.closest(".header-contacts__arrow")&&!e.dataset.key?(e.dataset.key="1",e.querySelector("img").style.margin="12px 5px",e.style.transform="rotate(180deg)",t.style.top="30px",o.style.opacity="1"):(e.removeAttribute("data-key"),e.style.transform="rotate(0deg)",t.style.top="0",o.style.opacity="0")}))})(),(()=>{const e=document.querySelector(".popup-dialog-menu");document.addEventListener("click",(t=>{t.preventDefault(),t.target.closest(".menu__icon")?(e.style.transform="translate3d(0, 0, 0)",document.body.style.overflow="hidden"):((t.target.closest(".close-menu")||t.target.closest(".menu-link")||!t.target.closest(".popup-dialog-menu"))&&document.documentElement.clientWidth>=576&&(e.style.transform="translate3d(645px, 0, 0)",document.body.style.overflow="auto"),(t.target.closest(".close-menu")||t.target.closest(".menu-link")||!t.target.closest(".popup-dialog-menu"))&&document.documentElement.clientWidth<576&&(e.style.transform="translate3d(0, -100vh, 0)",document.body.style.overflow="auto"))})),window.addEventListener("resize",(()=>{document.documentElement.clientWidth<576?e.style.transform="translate3d(0, -100vh, 0)":e.style.transform="translate3d(645px, 0, 0)"}))})(),document.addEventListener("click",(t=>{let o=document.documentElement.scrollTop;if(t.target.closest(".menu-link")&&!t.target.closest(".no-overflow")){const l=t.target.href.slice(t.target.href.lastIndexOf("#")+1),n=document.getElementById(l),r=n.offsetTop<3e3?n.offsetTop/4:n.offsetTop/6;e({duration:r,timing:e=>e,draw(e){document.documentElement.scrollTop=o+e*(n.offsetTop-o)}})}t.target.closest(".button-footer")&&e({duration:1500,timing:e=>e,draw(e){document.documentElement.scrollTop=(1-e)*o}})})),(()=>{const t=document.querySelector(".popup-repair-types"),o=document.querySelector(".popup-dialog-repair-types");document.addEventListener("click",(l=>{l.preventDefault(),(l.target.closest(".popup-repair-types>.close")||l.target===t)&&(t.style.visibility="hidden",document.body.style.overflow="auto"),(l.target.closest(".no-overflow")||l.target.closest(".link-list-repair>a"))&&(t.style.visibility="visible",document.body.style.overflow="hidden",o.style.opacity="0",e({duration:500,timing:e=>e,draw(e){o.style.opacity=e}}))}))})(),(()=>{const e=document.querySelectorAll("input[name=phone]"),t=function(e){const t=e.keyCode,o="+7 (___) ___-__-__",l=o.replace(/\D/g,""),n=this.value.replace(/\D/g,"");let r=0,s=o.replace(/[_\d]/g,(e=>r<n.length?n.charAt(r++)||l.charAt(r):e));r=s.indexOf("_"),-1!==r&&(s=s.slice(0,r));let a=o.substr(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=s),"blur"===e.type&&this.value.length<5&&(this.value="")};for(const o of e)o.addEventListener("input",t),o.addEventListener("focus",t),o.addEventListener("blur",t)})(),(()=>{const e=document.querySelector(".repair-types"),t=document.querySelectorAll(".repair-types-nav__item"),o=document.querySelectorAll(".types-repair"),l=document.querySelector(".slider-counter-content__current"),n=document.querySelector(".slider-counter-content__total");let r,s=0;const a=e=>{e.hasAttribute("data-key")&&(r=e.querySelectorAll(".repair-types-slider__slide"),n.textContent=r.length,r.forEach(((e,t)=>{e.style.display=t?"none":"block"})))};o.forEach(((e,t)=>{t?e.style.display="none":(e.style.display="block",e.dataset.key=""),a(e)})),e.addEventListener("click",(e=>{e.preventDefault(),t.forEach(((t,n)=>{e.target.closest(".repair-types-nav__item")&&(t.classList.remove("active"),o[n].removeAttribute("data-key"),o[n].style.display="none",e.target===t&&(t.classList.add("active"),o[n].dataset.key="",o[n].style.display="block",s=0,l.textContent=s+1))})),o.forEach((e=>a(e))),e.target.closest(".slider-arrow_right")&&(r.forEach((e=>{e.style.display="none"})),s++,s<r.length?(r[s].style.display="block",l.textContent=s+1):(s=0,r[s].style.display="block",l.textContent=s+1)),e.target.closest(".slider-arrow_left")&&(r.forEach((e=>{e.style.display="none"})),s--,s>=0?(r[s].style.display="block",l.textContent=s+1):(s=r.length-1,r[s].style.display="block",l.textContent=s+1))}))})()})();