(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function s(a){let n=(a-o)/l;n>1&&(n=1);let r=e(n);t(r),n<1&&requestAnimationFrame(s)}))};(()=>{const e=document.querySelector(".header-contacts__arrow"),t=document.querySelector(".header-contacts__phone-number-accord"),l=t.querySelector(".header-contacts__phone-number");e.addEventListener("click",(o=>{o.preventDefault(),o.target.closest(".header-contacts__arrow")&&!e.dataset.key?(e.dataset.key="1",e.querySelector("img").style.margin="12px 5px",e.style.transform="rotate(180deg)",t.style.top="30px",l.style.opacity="1"):(e.removeAttribute("data-key"),e.style.transform="rotate(0deg)",t.style.top="0",l.style.opacity="0")}))})(),(()=>{const e=document.querySelector(".popup-dialog-menu");document.addEventListener("click",(t=>{t.preventDefault(),t.target.closest(".menu__icon")?(e.style.transform="translate3d(0, 0, 0)",document.body.style.overflow="hidden"):((t.target.closest(".close-menu")||t.target.closest(".menu-link")||!t.target.closest(".popup-dialog-menu"))&&document.documentElement.clientWidth>=576&&(e.style.transform="translate3d(645px, 0, 0)",document.body.style.overflow="auto"),(t.target.closest(".close-menu")||t.target.closest(".menu-link")||!t.target.closest(".popup-dialog-menu"))&&document.documentElement.clientWidth<576&&(e.style.transform="translate3d(0, -100vh, 0)",document.body.style.overflow="auto"))})),window.addEventListener("resize",(()=>{document.documentElement.clientWidth<576?e.style.transform="translate3d(0, -100vh, 0)":e.style.transform="translate3d(645px, 0, 0)"}))})(),document.addEventListener("click",(t=>{let l=document.documentElement.scrollTop;if(t.target.closest(".menu-link")&&!t.target.closest(".no-overflow")){const o=t.target.href.slice(t.target.href.lastIndexOf("#")+1),s=document.getElementById(o),a=s.offsetTop<3e3?s.offsetTop/4:s.offsetTop/6;e({duration:a,timing:e=>e,draw(e){document.documentElement.scrollTop=l+e*(s.offsetTop-l)}})}t.target.closest(".button-footer")&&e({duration:1500,timing:e=>e,draw(e){document.documentElement.scrollTop=(1-e)*l}})})),(()=>{const t=document.querySelector(".popup-repair-types"),l=document.querySelector(".popup-dialog-repair-types");document.addEventListener("click",(o=>{o.preventDefault(),(o.target.closest(".popup-repair-types .close")||o.target===t)&&(t.style.visibility="hidden",document.body.style.overflow="auto"),(o.target.closest(".no-overflow")||o.target.closest(".link-list-repair a"))&&(t.style.visibility="visible",document.body.style.overflow="hidden",l.style.opacity="0",e({duration:500,timing:e=>e,draw(e){l.style.opacity=e}}))}))})(),(()=>{const e=document.querySelectorAll("input[name=phone]"),t=function(e){const t=e.keyCode,l="+7 (___) ___-__-__",o=l.replace(/\D/g,""),s=this.value.replace(/\D/g,"");let a=0,n=l.replace(/[_\d]/g,(e=>a<s.length?s.charAt(a++)||o.charAt(a):e));a=n.indexOf("_"),-1!==a&&(n=n.slice(0,a));let r=l.substr(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");r=new RegExp("^"+r+"$"),(!r.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=n),"blur"===e.type&&this.value.length<5&&(this.value="")};for(const l of e)l.addEventListener("input",t),l.addEventListener("focus",t),l.addEventListener("blur",t)})(),(()=>{const e=document.querySelector(".repair-types"),t=e.querySelector(".nav-list-repair"),l=document.querySelectorAll(".repair-types-nav__item"),o=document.querySelectorAll(".types-repair"),s=document.querySelector(".slider-counter-content__current"),a=document.querySelector(".slider-counter-content__total");let n,r=0,c=0,i=0;const d=e=>{e.hasAttribute("data-key")&&(n=e.querySelectorAll(".repair-types-slider__slide"),a.textContent=n.length,n.forEach(((e,t)=>{e.style.display=t?"none":"block"})))};o.forEach(((e,t)=>{t?e.style.display="none":(e.style.display="block",e.dataset.key=""),d(e)})),e.addEventListener("click",(e=>{if(e.preventDefault(),document.documentElement.clientWidth>1024)l.forEach(((t,l)=>{e.target.closest(".repair-types-nav__item")&&(t.classList.remove("active"),o[l].removeAttribute("data-key"),o[l].style.display="none",e.target===t&&(t.classList.add("active"),o[l].dataset.key="",o[l].style.display="block",c=0,s.textContent=c+1))}));else{if(e.target.closest(".nav-arrow_right"))if(l.forEach(((e,t)=>{e.classList.remove("active"),o[t].removeAttribute("data-key"),o[t].style.display="none"})),c=0,i++,i<l.length){let e=getComputedStyle(l[i-1]);l[i].classList.add("active"),o[i].dataset.key="",o[i].style.display="block",s.textContent=1,r-=+e.width.slice(0,-2)+12,t.style.transform=`translateX(${r}px)`,console.log(r)}else i=0,l[i].classList.add("active"),o[i].dataset.key="",o[i].style.display="block",n[i].style.display="block",s.textContent=1,r=0,t.style.transform=`translateX(${r}px)`;if(e.target.closest(".nav-arrow_left"))if(l.forEach(((e,t)=>{e.classList.remove("active"),o[t].removeAttribute("data-key"),o[t].style.display="none"})),c=0,i--,i>=0){let e=getComputedStyle(l[i]);l[i].classList.add("active"),o[i].dataset.key="",o[i].style.display="block",s.textContent=1,r+=+e.width.slice(0,-2)+12,t.style.transform=`translateX(${r}px)`}else i=l.length-1,l[i].classList.add("active"),o[i].dataset.key="",o[i].style.display="block",n[i].style.display="block",s.textContent=1,r=-839,t.style.transform=`translateX(${r}px)`}o.forEach((e=>d(e))),e.target.closest(".slider-arrow_right")&&(n.forEach((e=>{e.style.display="none"})),c++,c<n.length?(n[c].style.display="block",s.textContent=c+1):(c=0,n[c].style.display="block",s.textContent=c+1)),e.target.closest(".slider-arrow_left")&&(n.forEach((e=>{e.style.display="none"})),c--,c>=0?(n[c].style.display="block",s.textContent=c+1):(c=n.length-1,n[c].style.display="block",s.textContent=c+1))}))})()})();